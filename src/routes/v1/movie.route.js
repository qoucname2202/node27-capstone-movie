const movieController = require('../../controllers/movie.controller')
const upload = require('../../middlewares/upload.middleware')
const { verifyAdmin, verifyToken } = require('../../middlewares/users.middleware')
const express = require('express')
const movieRoute = express.Router()

movieRoute.get('/banner', movieController.getAllBanner)
movieRoute.get('/search', movieController.searchMovie)
movieRoute.get('/all-movie', movieController.getAllMovie)
movieRoute.get('/pagination', movieController.getPaginationListOfMovie)
movieRoute.get('/users-like', verifyAdmin, movieController.getUsersLikeMovie)
movieRoute.get('/users-rating', verifyAdmin, movieController.getUsersRatingMovie)
movieRoute.get('/paging-movie-by-date', verifyToken, movieController.getMovieByDate)
movieRoute.post('/upload-poster', verifyAdmin, upload.single('posterURL'), movieController.uploadPoster)
movieRoute.post('/upload-backdrops', verifyAdmin, upload.single('backdropsURL'), movieController.uploadBackdrops)
movieRoute.post('/insert', verifyAdmin, movieController.insertMovie)
movieRoute.put('/update', verifyAdmin, movieController.updateMovie)
movieRoute.delete('/delete', verifyAdmin, movieController.deleteMovie)
movieRoute.get('/directors', movieController.getListDirector)
movieRoute.get('/actors', movieController.getListActor)
movieRoute.get('/genres', movieController.getListGenres)
movieRoute.get('/tags', movieController.getListTags)

module.exports = movieRoute
